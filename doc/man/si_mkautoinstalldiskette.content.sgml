  <refentryinfo>
    <address>
      &dhemail;
    </address>
    <author>
      &dhfirstname;
      &dhsurname;
    </author>
    <copyright>
      <year>2001</year>
      <holder>&dhusername;</holder>
    </copyright>
    &dhdate;
  </refentryinfo>
  <refmeta>
    <refentrytitle>SI_MKAUTOINSTALLDISKETTE</refentrytitle>

    &dhsection;
  </refmeta>
  <refnamediv>
    <refname>si_mkautoinstalldiskette</refname>

    <refpurpose>
      creates a bootable floppy for autoinstalling clients

      DEPRECATED: use si_mkautoinstalldisk instead!
    </refpurpose>
  </refnamediv>
  <refsynopsisdiv>
    <cmdsynopsis>
      <command>si_mkautoinstalldiskette</command>
      <arg><option>-help</option></arg>
      <arg><option>-version</option></arg>
      <arg><option>-quiet</option></arg>
      <arg><option>-floppy <replaceable>DEVICE</replaceable></option></arg>
      <arg><option>-out-file <replaceable>PATH</replaceable></option></arg>
      <arg><option>-flavor <replaceable>FLAVOR</replaceable></option></arg>
      <arg><option>-kernel <replaceable>PATH</replaceable></option></arg>
      <arg><option>-initrd <replaceable>PATH</replaceable></option></arg>
      <arg><option>-append <replaceable>STRING</replaceable></option></arg>
      <arg><option>-config <replaceable>PATH</replaceable></option></arg>
      <arg><option>-ssh-key <replaceable>PATH</replaceable></option></arg>
    </cmdsynopsis>
  </refsynopsisdiv>
  <refsect1>
    <title>DESCRIPTION</title>

    <para>This manual page documents briefly the
      <command>si_mkautoinstalldiskette</command> command.</para>

    <para><command>si_mkautoinstalldiskette</command> creates a floppy disk which can be
       used to boot an autoinstall client and initiate an autoinstall.
    </para>

  </refsect1>
  <refsect1>
    <title>OPTIONS</title>

    <para>A summary of options is included below.</para>

    <variablelist>
      <varlistentry>
	<term><option>-help</option></term>
        <listitem><para>Show summary of options</para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-version</option></term>
        <listitem>
          <para>Display version and copyright information.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
	<term><option>-quiet</option></term>
	<listitem>
	  <para>
	    Don't print any output, just provide an appropriate exit code.
	    (requires -floppy)
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><option>-floppy <replaceable>DEVICE</replaceable></option></term>
	<listitem>
	  <para>
	    The 1.44MB floppy drive device containing the disk to format.  If
	    not specified, /dev/fd0 is assumed.  This command understands
	    "/dev/fd0" through "/dev/fd7".  (if you specify -floppy, this
	    command will run non-interactively)
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-out-file <replaceable>FILE</replaceable></option></term>
	<listitem>
	  <para>
	    Create a 1.44MB floppy image in <replaceable>FILE</replaceable>.
	    <command>dd</command> can be used to write this image to a floppy
	    later.  This is useful for some systems that allow you to boot
	    nodes using a "virtual floppy" file that is retrieved via TFTP
	    (some PXE loaders and some remote management boards).
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><option>-kernel <replaceable>PATH</replaceable></option></term>
	<listitem>
	  <para>
	    Specify an alternate kernel to use.  This is useful if you have
	    clients that have network cards or disk controllers that are not
	    supported by the default kernel provided by SystemImager.  See
	    the SystemImager manual for instructions on creating a custom
	    autoinstall kernel.
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><option>-flavor <replaceable>FLAVOR</replaceable></option></term>
	<listitem>
	  <para>
            The flavor of the boot package to use.  If this option is not
            specified, you will be asked to choose a flavor from the available
            list interactively.
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><option>-initrd <replaceable>PATH</replaceable></option></term>
	<listitem>
	  <para>
	    Specify an alternate initial ramdisk to use.  This is rarely
	    useful, but may be necessary in some cases (e.g. needing to add
	    more special files in /dev).  See the SystemImager manual for
	    instructions on creating a custom initial ramdisk.
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><option>-append <replaceable>STRING</replaceable></option></term>
	<listitem>
	  <para>
	    This option allows you to pass options to the autoinstall kernel.
	    For example, to tell the kernel to use ttyS3 as the serial
	    console:
	  </para>
	  <para>-append "console=ttyS3"</para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><option>-config <replaceable>FILE</replaceable></option></term>
	<listitem>
	  <para>
	    Where <replaceable>FILE</replaceable> contains all the settings
	    necessary for the client to set it's hostname and configure it's
	    networking information without DHCP.  This file is copied to
	    <filename>/local.cfg</filename> on the autoinstalldiskette.
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><option>-ssh-key=<replaceable>FILE</replaceable></option></term>
	<listitem>
	  <para>
	    Where <replaceable>FILE</replaceable> is the SSH2 id_dsa or id_rsa 
        private key of the user account that the autoinstall client will 
        use to connect to the imageserver.  It is usually found in the
	    user's <filename>.ssh</filename> directory.
	  </para>
	  <para>
	    To use this private key, you must also add the corresponding public
	    key to this user's <filename>.ssh/authorized_keys</filename> file
	    on the imageserver.  The public key is usually called
	    <filename>.ssh/id_rsa.pub</filename> or
	    <filename>.ssh/id_dsa.pub</filename>.  The
	    <filename>.ssh/authorized_keys</filename> must be readable only by
	    this user.  (<command>chmod 600 .ssh/authorized_keys</command>)
	  </para>
	</listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
  <refsect1>
    <title>SEE ALSO</title>

    <para><command>si_mkautoinstallcd</command>(8), perldoc si_mkautoinstalldisk</para>

    <para>More details can be found in the <citetitle>SystemImager
	manual.</citetitle>
    </para>
  </refsect1>
  <refsect1>
    <title>AUTHOR</title>

    <para>This manual page was compiled by &dhusername; <&dhemail;> for
      the &debian; system (but may be used by others).</para>

    <!-- <para>Permission is granted to copy, distribute and/or modify
      this document under the terms of the <acronym>GNU</acronym> Free
      Documentation License, Version 1.1 or any later version
      published by the Free Software Foundation; with no Invariant
      Sections, no Front-Cover Texts and no Back-Cover Texts.  A copy
      of the license can be found under
      <filename>/usr/share/common-licenses/FDL</filename>.</para> -->

  </refsect1>
