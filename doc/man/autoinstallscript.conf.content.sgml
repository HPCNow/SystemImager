  <refentryinfo>
    <address>
      &dhemail;
    </address>
    <author>
      &dhfirstname;
      &dhsurname;
    </author>
    <copyright>
      <year>2002</year>
      <holder>&dhusername;</holder>
    </copyright>
    &dhdate;
  </refentryinfo>
  <refmeta>
    <refentrytitle>AUTOINSTALLSCRIPT.CONF</refentrytitle>

    &dhsection;
  </refmeta>
  <refnamediv>
    <refname>autoinstallscript.conf</refname>

    <refpurpose>specify partition and filesystem options</refpurpose>
  </refnamediv>

  <refsect1>
  <title>DESCRIPTION</title>
  <para>
    This manual page documents briefly the
    <filename>autoinstallscript.conf</filename> file.
  </para>

  <para>
    The <filename>autoinstallscript.conf</filename> file contains 
    information used by SystemImager to create an autoinstall script.  The 
    resultant autoinstall script is used to clone Linux systems.
  </para>

  </refsect1>

  <refsect1>
  <title>Disk Section</title>

  <para>
    This section is used to create a disk label and partitions on each of
    your autoinstall client's disks.  This section is indicated with the
    "disk" tag.
  </para>

  <itemizedlist>
    <listitem>
      <para>disk - Partition information about a single disk.</para>
    </listitem>

    <listitem>
      <para>dev - The device file that represents the disk in question.</para>
    </listitem>

    <listitem>
      <para>
        label_type - The kind of disk label used by this disk.  Currently, this
        can be either "msdos" or "gpt".
      </para>
    </listitem>

    <listitem>
      <para>
        unit_of_measurement - The unit of measurement is used with "size" tags 
        to specify the size of each partition.  This can be set to MB or %.
      </para>
    </listitem>

    <listitem>
      <para>
        part - Start of information about a new partition.
      </para>
    </listitem>

    <listitem>
      <para>
	    num - The minor device number for the partition (partition number).
      </para>
    </listitem>

    <listitem>
      <para>
	    size - The size of the partition.  The unit used here should correspond
	    to the "unit_of_measurement" setting for the entire disk.
      </para>

      <para>
		Size can also hold the special value of "*".  This is used 
        to indicate that the specified partition should be growable to the end 
        of the disk.  If the last partition is a primary partition, then only 
        that partition should have "*" specified.  If the last 
        partition is a logical partition, then both the logical partition, and 
        the extended partition that contains it, should have "*" 
        specified.
      </para>
    </listitem>

    <listitem>
      <para>
		p_type - Partition type.  This can be primary, extended, or logical for
		msdos labelled disks.  This can only be primary for gpt labelled disks,
		as gpt disk labels only support primary partitions.
      </para>
    </listitem>

    <listitem>
      <para>
		fs - <command>parted(8)</command> is the tool used by SystemImager for
		partitioning disks.  <command>parted(8)</command> requires you to tell
		it what kind of filesystem you intend to put on a partition, but it
    	doesn't really affect what kind of filesystem SystemImager creates.
    	Valid values for this tag are:
		<simplelist>
		  <member>ext2</member>
		  <member>ext3</member>
		  <member>fat16</member>
		  <member>fat32</member>
		  <member>hfs</member>
		  <member>hp-ufs</member>
		  <member>jfs</member>
		  <member>linux-swap</member>
		  <member>ntfs</member>
		  <member>reiserfs</member>
		  <member>sun-ufs</member>
		  <member>xfs</member>
		</simplelist>
      </para>

      <note>
		<para>
		  This tag does not determine the filesystem type that SystemImager
		  will create on this partition.  See the "fs" tag in the filesystem 
          section to specify the filesystem you need created.
		</para>
      </note>
    </listitem>

    <listitem>
      <para>
		p_name - This is the name of a partition.  Gpt partition tables	support
		naming partitions.  If you don't know what this is, you probably don't
		want to mess with it.  A value of "-" works great (gets ignored)!
      </para>
    </listitem>

    <listitem>
      <para>
		flags - A comma separated list (no spaces) of flags used to specify
		particulars about a partition.  Possible values are:
		<simplelist>
		  <member>boot</member>
		  <member>hidden</member>
		  <member>raid</member>
		  <member>lvm</member>
		  <member>lba</member>
		</simplelist>
      </para>
    </listitem>

  </itemizedlist>
  </refsect1>

  <refsect1>
  <title>Filesystem Section</title>
  <para>
    This section is used to create filesystems on each of the used partitions,
    and to create an fstab file on the autoinstall client.  Each line of this
    section is indicated with the "fsinfo" tag.
  </para>

  <itemizedlist>
    <listitem>
      <para>
		fsinfo - Start of a new line of information for the fstab file and/or
		for filesystem creation information.
      </para>
    </listitem>

    <listitem>
      <para>
		line - This is used to indicate the order that lines should be put into
		the fstab file on the autoinstall client.
      </para>
    </listitem>

    <listitem>
      <para>
		comment - Indicates a comment that should be included in the 
		fstab file, but is not used for any other processing.
      </para>
    </listitem>

    <listitem>
      <para>
		real_dev - The first field in the fstab file.  This is the device
		where the filesystem resides.  It is put into the generated fstab file
		and is the device used to mount filesystems on the finished machine
		when it reboots.
      </para>
    </listitem>

    <listitem>
      <para>
		mount_dev - Usually the first field in the fstab file will be an 
        actual device file like "/dev/sda1", but may sometimes look like 
        "LABEL=/boot" or "UUID=c1b9d5a2-f162-11cf-9ece-0020afc76f16".  
        In the case that it is a LABEL or UUID, instead of a real device, we 
        use mount_dev to specify the information that will be put in the fstab
        file to mount the filesystem after the autoinstall client is imaged.
		LABEL and UUID information is stored as part of the filesystem, not as 
        part of the partition.  See <filename>fstab(5)</filename> for more 
        information.  mount_dev will only exist if a LABEL or UUID is used.
      </para>
    </listitem>

    <listitem>
      <para>
	mp - The second field in the fstab file.  Mount point.  This is the 
	name of the directory where the filesystem should be mounted.  See 
	<filename>fstab(5)</filename> for more information.
      </para>
    </listitem>

    <listitem>
      <para>
	fs - The third field in the fstab file.  This is where you specify what
	filesystem you want created on the partition specified on "mount_dev" 
	(or "real_dev").  Valid filesystem types supported by SystemImager are:
	<simplelist>
	  <member>ext2</member>
	  <member>ext3</member>
	  <member>msdos</member>
	  <member>reiserfs</member>
	  <member>vfat</member>
	  <member>XXX more? more?</member>
	</simplelist>
      </para>
    </listitem>

    <listitem>
      <para>
	mkfs_opts - Certain filesystems may require additional information to
	properly create a filesystem.  Currently, this is only used by msdos
	and vfat filesystems.  Valid values for msdos and vfat filesystems are
	"-F 12", "-F 16", or "-F 32" to specify the FAT size.  If you don't
	know what you need, or don't care, you can leave this blank and
	defaults will be used.
      </para>
    </listitem>
    <listitem>
      <para>
	options - The fourth field in the <filename>fstab</filename> file.
	Options needed when mounting the filesystem.  If you don't know that
	you need any special options, just use "default".  See
	<filename>fstab(5)</filename> for more information.
      </para>
    </listitem>
    <listitem>
      <para>
	dump - The fifth field in the fstab file.  This should be a number that
	is used by <command>dump(8)</command>.  If you don't know what to put
	here, just use "0".  See <filename>fstab(5)</filename> for more
	information.
      </para>
    </listitem>
    <listitem>
      <para>
	pass - The sixth field in the fstab file.  This is used by the fsck
	program to determine the order in which filesystem checks are done at
	boot time.  See <filename>fstab(5)</filename> for more information.
      </para>
    </listitem>
    <listitem>
      <para>
	format - Used to tell SystemImager to not create a filesystem on a 
	partition.  If this is set to "no", the filesystem will not be created.
	If it is absent, or contains any other value, then a filesystem will 
	be created.
      </para>
    </listitem>
  </itemizedlist>
  </refsect1>
  <refsect1>
    <title>SEE ALSO</title>

    <para>
      <command>mkautoinstallscript</command>(8), <filename>fstab(5)</filename>
    </para>

    <para>More details can be found in the <citetitle>SystemImager
	manual.</citetitle>
    </para>
  </refsect1>
  <refsect1>
    <title>AUTHOR</title>

    <para>This manual page was compiled by &dhusername; <&dhemail;> for
      the &debian; system (but may be used by others).</para>

    <!-- <para>Permission is granted to copy, distribute and/or modify
      this document under the terms of the <acronym>GNU</acronym> Free
      Documentation License, Version 1.1 or any later version
      published by the Free Software Foundation; with no Invariant
      Sections, no Front-Cover Texts and no Back-Cover Texts.  A copy
      of the license can be found under
      <filename>/usr/share/common-licenses/FDL</filename>.</para> -->

  </refsect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
