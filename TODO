#
# "VA SystemImager" - Copyright (C) 1999-2000 Brian Elliott Finley <brian@valinux.com>
#
# This file: TODO
# (not in any specific order)
#
# Developers: Please update (and commit) the "In Progress" section before and after any work.
#             (Only Brian Finley will do CVS tags of any kind, such as for version releases.)
#

In Progress
-----------
- <brian@thefinleys.com> - Wes Smith's patches
- <brian@thefinleys.com> - support for LABEL= format in /etc/fstab
- <brian@thefinleys.com> - fix network booting

- <brian@thefinleys.com> - update the FAQ-HOWTO (maybe after release? yes.)

- <brian@thefinleys.com> - put exclude/include stuff on imageserver by image
- <brian@thefinleys.com> - autoinstall client to cycle through eth interfaces
                           for N in 0 1 2 3 4 5 6 7 8 9; do
                             dhcpcd eth$N
                             determine success or try again
                           fi
- <brian@thefinleys.com> - add -exclude option to getimage
- <brian@thefinleys.com> - incorporate ssh
- <brian@thefinleys.com> - mount floppy or hard drive -o ro during autoinstall init

- <wessmith@engr.sgi.com> - Modify getimage to allow for alternate image directory prefix.

- <gpratt@valinux.com> - Docbookization of the FAQ-HOWTO

- Cameron Meadors <cmeadors@valinux.com> and Roland Dreier <roland@valinux.com>
  - write a new tftp daemon to do that special PXE thang, so that we no longer have to use
    the buggy tftp-hpa daemon.  There is also a new tftp-hpa daemon out that may not be so buggy...

- Chris Black <cblack@mokey.com> - hack dhclient to allow for imageserver specification via dhcp

Assigned and waiting to be done
----------------------------------
- Ian McLeod <ian@valinux.com> - multicast install -- working on mftp (multicast ftp) 
  as a drop in alternative for rsync.
- Roland Dreier <roland@valinux.com> -- working on the multicast library that Ian's utility will be based on.
- <brian@thefinleys.com> - consider inodes/block in getimage
- <brian@thefinleys.com> - getimage -- blink option
- <brian@thefinleys.com> - getimage -- eject option
- <brian@thefinleys.com> - makeautoinstalldiskette -- consider adding config file options?
- <brian@thefinleys.com> - updateclient -autoinstall -- consider adding config file options?

Other Requests
------------
- commandline-ize the rest of the commands
- support for imageserver specification in DHCP client (hack dhcpcd)
- modify systemimager.exclude to deal with debian network info
- /etc/systemimager.conf file to hold things like domain name, nis domain, etc.

Bug list
--------
- Bugs? ;)
- There is, however, a bug in the tftp-hpa tftp daemon.
- Bug in rsync 2.4.4 (and prior I presume) where it does not return the expected exit status when it fails to write a file. 

Other stuff
-----------
- (part of the making of the tftp-hpa RPM) need to add proper tftp entry in /etc/inetd.conf 
   for tftp-hpa rpm.  If systemimager is installed with tftp-hpa, then systemimager's 
   afterburner will make the proper changes to /etc/inetd.conf.
- make the <Backspace> key work ;)
- create man pages
- support for Caldera Open Linux
  - IF_LIST in /etc/sysconfig/network
- support for SuSE
- support for Slackware
- section of howto that helps Kickstart users transition to SystemImager.

getimage
--------
- identify mke2fs parameters -b, -i, and -m on the master client and replicate this on autoinstall clients
- use something other than mtab for getting active ext2 filesystems?
- offer user the ability to change this, and store the changes in 
  /etc/systemimager.conf as IMAGESDIRECTORY="/var/spool/systemimager/images"
- add an --exclude option
- add "Do you want me open up the imageserver as a syslogd server?"
- pass variables, such as $imagename to "addclients"
- create disk partition sections of $image.master using MB instead of cylinders
  in order to support disks of different sizes. (not feasable at this point.)
  (there may be additional things to do on the prepareclient side as well)
  (perhaps use a virtual disk presented to a "real" fdisk to allow user partitioning? --
   or maybe just calculate partition information with the script and ask the user to specify sizes)

addclients
----------
- accept command line input such as --image $imagename
- re-cycle through each question if answer is ""

systemimager.exclude
--------------------
- keep this in the image on the imageserver
- add support for a systemimager.include file
- have getimage question what should be excluded in future when updateimage 
  is run.  /tmp/* and /home/* should be recommended as a starting place.

updateclient
-----------
- have client pull systemimager.exclude and systemimager.include from
  imageserver before pulling image

makedhcpserver 
--------------
- autodiscover and calculate more information 
  (including if system has more than one network interface).
- automatically change line in /etc/rc.d/init.d/dhcpd for you

Miscellaneous and Possibilities
-------------------------------
- add more error checking (always) :)
- Dan of Argonne says there may be a better way of identifying the
  imageserver via DHCP.  This has been verified -- you can make a
  statement such as:
   option option-100 "10.0.0.8";
  in the /etc/dhcpd.conf file to make up your own option that specifies
  the address of the imageserver.  However, only the ISC's own dhclient
  seems to be able to take made up options, and it is not the dhcp client
  of choice (for several reasons).  Maybe the other clients, dhcpcd and
  pump, will find their way along soon...

  Reasons are:
  - dhcpcd is the defacto dhcp client used on most linux systems
  - dhclient compiles large

- curses wrapper around the whole thing?
- updateclient - log what was updated and or deleted?
- makedhcpstatic -- allow for -f "filename" option to specify dhcpd.leases file.

systemimager.conf
-----------------
- SYSTEMIMAGER_ROOT=$path
- SYSTEMIMAGER_FQHN=$boolean
- EXCLUDE=$path $path $path

autoinstalldiskette 
-------------------
- no screen-blanking
- redirect syslog messages to $imagserver

