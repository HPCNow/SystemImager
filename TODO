#
# "VA SystemImager" - Copyright (C) 1999-2001 Brian Elliott Finley <brian@valinux.com>
#
# This file: TODO
# (not in any specific order)
#
# Developers: Please update (and commit) the "In Progress" section before and after any work.
#             (Only Brian Finley will do CVS tags of any kind, such as for version releases.)
#


-----------------------
Version 1.4.0 specific:
-----------------------

Post release
------------

Dann Frazier <dannf@hazel.fc.hp.com>
------------------------------------
o create man pages
o have deb package created


Brian Chrisman <bchrisman@valinux.com>
--------------------------------------
o modify RPM spec file to deal with
  o configuration files
  o additional files
  o changed files


--------------------------
Stable Branch Sub Projects
--------------------------

Dann Frazier <dannf@hazel.fc.hp.com>
------------------------------------
o replace install scripts with Makefile(s)


Brian Finley <brian@thefinleys.com>
-----------------------------------
o Reported bug: http://sourceforge.net/tracker/?func=detail&atid=100259&aid=407316&group_id=259
o initrd.gz -- don't pull hosts file if HOSTNAME is already known
o deal with LABEL= and UUID= for any filesystem or device type
o add " || shellout" to the end of almost everything in <image>.master
o calculate network number in makedhcpserver & maybe figure out other stuff too.
o Apply patches from:
  o Wesley Smith <wessmith@cthulhu.engr.sgi.com>
    --------------------------------------------
    o devfs patch
    o TurboLinux patch
    o SuSe patch

  o Fred Gray <fegray@npl.uiuc.edu>
    -------------------------------
    o patch to allow exclude on golden client during getimage.
      o /etc/systemimager/getimage.exclude on golden client


-------------------------------
Development Branch Sub Projects
-------------------------------

Brian Chrisman <bchrisman@valinux.com>
--------------------------------------
o serial redirect for autoinstallclient
  o See email with Subject of: 
    Subject: serial redirect for autoinstalling systems remotely with systemimager
  o See linux/Documentation/serial-console.txt


Greg Smith <grs@xuma.com>
Committed to task: Tue, 23 Jan 2001
-----------------------------------
o mvimage
  o usage: mvimage [OPTIONS] <image> <newimage>
  o renames /var/spool/systemimager/images/<image>
  o renames /tftpboot/systemimager/<image>.master
    (and re-creates any softlinks that point to it)
  o renames entries for <image> in /etc/rsyncd.conf
  o OPTIONS:
    -help
    -verbose
    -quiet
    -interactive  Prompt before renaming each of the following:
                  o image directory
                  o <image>.master autoinstall script and softlinks
                  o image entry in /etc/rsyncd.conf


Volunteer needed (also Greg Smith?)
-----------------------------------
o rmimage
  o usage: rmimage [OPTIONS] <image>
  o removes /var/spool/systemimager/images/<image>
  o removes /tftpboot/systemimager/<image>.master
    (and any softlinks that point to it)
  o removes entry for <image> in /etc/rsyncd.conf
  o OPTIONS:
    -help
    -verbose
    -quiet
    -interactive  Prompt before removing each of the following:
                  o image directory
                  o <image>.master autoinstall script and softlinks
                  o image entry in /etc/rsyncd.conf

  
John Chabalko <john.chabalko@nbci.com> / <johnchabalko@hotmail.com>
Committed to task: Thur Mar 8, 2001  
-------------------------------------------------------------------
o lsimage 
  (3/19/2001 - first review)
  (3/26/2001 - next review)
  o usage: lsimage [OPTIONS]
  o essentially does an: 
     "rsync $server::"
    and returns the output.
  o assumes $server="localhost" if -server not specified.
  o OPTIONS:
    -help
    -verbose
    -quiet
    -server IMAGESERVER


Austin Gonyou <austin@coremetrics.com> 
Wed Mar 21 12:19:10 CST 2001  
--------------------------------------
o commandlineize addclients
  -version
  -help
  -base-hostname HOSTNAME
  -domainname    DOMAINNAME
  -first         HOST_NUMBER
  -last          HOST_NUMBER
  -image         IMAGENAME
  -ip-range      1.2.3.4-1.2.3.99,5.6.7.8-5.6.7.108

  Example:
  $ addclients -b www -d systemimager.org -f 7 -l 11 -image web_image_v1 -ip-range 192.168.1.7-192.168.1.11


Todd Sargent <tsargent@pioneertechnology.net>
Austin Gonyou <austin@coremetrics.com>
Wed Mar 21 12:19:10 CST 2001  
----------------------------------------------------------
o web interface (gui) that allows all image server operations as well as:
  o schedule clients to be updated or re-autoinstalled at a later date
    o produce a master schedule file, available from the webserver,
      that clients pull down via a cron job.  parse the file to determine
      the details of what they're supposed to do (if anything).
  o provide for reporting of clients that have completed their autoinstalls.
o See the "GUI Layout" section in this document for details on the 
  proposed logical arrangement of screens, etc.


Greg Pryzby <gjp@valinux.com>
Committed to task: Mon, 12 Mar 2001
----------------------------
X Windows GUI
o Run from the imageserver sending the X display back to a sysadmins
  desktop.
o Distribution independent.  The two main distros to initially be
  concerned with are debian and redhat.  Minimal dependencies are
  preferred -- this will be run from a server which may not have lots of
  X and GUI stuff installed.
o The goal is to allow for all of the commands to be run by clicking
  buttons, filling in boxes, etc.
o See the "GUI Layout" section in this document for details on the 
  proposed logical arrangement of screens, etc.


GUI Layout (applies to Web GUI and X GUI)
-----------------------------------------
Main screen:
o Maybe have a SystemImager Wizard (is the term Wizard copyrighted?)
  that basically walks you through the steps in the "Step-by-Step 
  HOWTO":
  http://systemimager.org/manual/html/theactualstep-by-stephowto.html
o Also have buttons for each of the utilities labelled something like:
  o "Pull and Image from a Golden Client" (getimage)
  o "Add Client Autoinstall Information" (addclients)
  o "DHCP Server Configuration"
    o show me my existing config
    o create a new configuration file (makedhcpserver)
    o make existing DHCP leases static (makedhcpstatic)
  o Autoinstall clients
    o I want to re-install an existing system
      o connect to the existing system with ssh 
        (then autoinstall -a -s)
      o connect to the existing system with rlogin
        (then autoinstall -a -s)
    o I want to install systems with an autoinstall diskette
    o I want to install systems with an autoinstall CDROM


James Morton <jmorton@viata.com>
Committed to task: 03 Jan 2001
--------------------------------
o have the autoinstallclient ask user for settings.


George Perry <perryg@elcsci.com>
Wed, 17 Jan 2001
--------------------------------
o bootable recovery CD that self-installs from image stored on same CD


Greg Pratt <gpratt@valinux.com>
Committed to task: Tue, 06 Mar 2001
-----------------------------------
o Add kernel bug/rsync bug info to Troubleshooting section in docs.


<brian@thefinleys.com>
----------------------
o Jose_AP_Celestino.ida.prepareclient.patch to make systemimager work
  properly with Smart Array cards.  (must get a Smart Array card first)
o getimage - put exclude/include stuff on imageserver by image
  /tftpboot/systemimager/$image.updateclient.include
  /tftpboot/systemimager/$image.updateclient.exclude
o updateclient - local /etc/systemimager/systemimager.exclude or include
  take precedence over include and exclude on imageserver.
o updateclient - include/exclude pulled to temporary files.
o prepareclient - no longer puts /etc/systemimager/systemimager.exclude on
  client.
o check for the presence of a BIOS file written by BIOSwriter. If 
  found, then at the tail end of a client's image pull, it runs 
  BIOSwriter to write the file.
o deal with LABEL=UUID as well as LABEL=mount_point
o next release (1.5.x), make the -imageserver option go away
  in getimage.
o getimage -- exclude option
o if local.cfg and dhcp fails, have client ask for manual input
o redirect to serial port:
  - manual change to syslinux.cfg
  - maybe an append parameter if necessary
  - detect if serial is wanted by having rcS look for variable in
    - $image.master
    - local.cfg
o add -exclude option to getimage
o incorporate ssh
  1) client generates and gives it's key to imageserver prior to pulling down image?
  2) imageserver adds client's key to it's .ssh/authorized_keys file
  3) client can rsync -e ssh in.
o incorporate casper (multicast by Aaron Hillegass <aaron@bignerdranch.com>)
o getimage -- blink option
o getimage -- eject option
o contemplate using wget to pull stuff?
o contemplate using khttpd or tux or similar to show autoinstall client status
o command to put mac addresses/host names into 
  /etc/dhcpd.conf by using broadcast pings, the arp 
  table, and /etc/hosts or dns.
o store certain parameters in /etc/systemimager/systemimager.conf as 
  IMAGESDIRECTORY="/var/spool/systemimager/images"
o section of HOWTO that helps Kickstart users transition to SystemImager.
o redirect syslog messages from autoinstall clients to $imagserver
o addclients -- accept command line input such as --image $imagename
o addclients -- re-cycle through each question if answer is ""
o have getimage question what should be excluded in future when updateimage 
  is run.  /tmp/* and /home/* should be recommended as a starting place.


Ian McLeod <ian@valinux.com> (suggestions)
------------------------------------------
o autoinstall clients report to imageserver "I'm up"
o ability to blink led, floppy light, eject cdrom, etc. on 
  autoinstallclient to identify the machine prior to initiating the 
  autoinstall.
o option to initiate an autoinstall from the client or from the server.
o option to assign permanent IP address/hostname from the server after
  an autoinstall client has booted and checked in.
o ability to adapt to the hardware
  - client chooses section from <imagename>.master based on disk type
    (master script contains sections for hd, sd, and rd)


Miscellaneous and Possibilities
-------------------------------
o /etc/systemimager/systemimager.conf file to hold things like domain name, nis domain, etc.
o support for imaging dual boot systems (Linux/Windows with FAT/HPFS/NTFS)
  o see mondo (available on freshmeat)
o makedhcpserver -- autodiscover and calculate more information 
  (including if system has more than one network interface).
o makedhcpserver -- automatically change line in /etc/rc.d/init.d/dhcpd for you
o updateclient - log what was updated and or deleted?
o makedhcpstatic -- allow for -f "filename" option to specify dhcpd.leases file.


Bug list
--------
Please submit bugs via the "SystemImager Bug Tracking System" link at
http://systemimager.org/
