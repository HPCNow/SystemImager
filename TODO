#
# "VA SystemImager" - Copyright (C) 1999-2000 Brian Elliott Finley <brian@valinux.com>
#
# This file: TODO
# (not in any specific order)
#
# Developers: Please update (and commit) the "In Progress" section before and after any work.
#             (Only Brian Finley will do CVS tags of any kind, such as for version releases.)
#

In Progress
-----------
Version 1.4.0 specific:
- <brian@thefinleys.com> - prepareclient. -- offer to add "127.0.0.1 $hostname"
                           to /etc/hosts
- <brian@thefinleys.com> - errata.txt on website
- <brian@thefinleys.com> - test for superformat and fdformat in makeautoinstalldiskette
- <brian@thefinleys.com> - run rsyncd from an init script on the imageserver 
                           with no maximum connections
                           /etc/rc.d/init.d/rsyncd
                           /etc/init.d/rsyncd
- <brian@thefinleys.com> - work with either /etc/rc.d/init.d/ or /etc/init.d/
- <brian@thefinleys.com> - use dhclient
- <brian@thefinleys.com> - Contemplate using "use chroot = yes" in 
                           /etc/rsyncd.conf
                           and how this affects --numeric-ids.
- <brian@thefinleys.com> - fix egrep test thingy on client
- <brian@thefinleys.com> - Wes Smith's distribution specific patches
- <brian@thefinleys.com> - support for more distributions
- <brian@thefinleys.com> - put exclude/include stuff on imageserver by image
                           /tftpboot/systemimager/$image.include
                           /tftpboot/systemimager/$image.exclude
- <brian@thefinleys.com> - label autoinstallcd.iso with v1.4.x (x is literal)
- <brian@thefinleys.com> - start using bzip2
- <brian@thefinleys.com> - add support for 3c905 if it will fit.
- <brian@thefinleys.com> - deal with ext3 journal files differently according 
                           to Ted Ts'o
- <brian@thefinleys.com> - error checking and diagnostic messages on 
                           autoinstall client
- <brian@thefinleys.com> - add a -autoconfig option to updateclient that figures
                           out the current values and writes them to /local.cfg
- <brian@thefinleys.com> - addclients -- test for /etc/hosts before using


Other stuff:
- <brian@thefinleys.com> - add a -quick-boot option to makeautoinstallfloppy
                           - disclaimer -- may not work on all systems
- <brian@thefinleys.com> - contemplate using MAKEDEV instead of having 
                           pre-existing device files
- <brian@thefinleys.com> - fix network booting
- <brian@thefinleys.com> - add -exclude option to getimage
- <brian@thefinleys.com> - incorporate ssh
- <brian@thefinleys.com> - put autoinstallmedia source into cvs
- <brian@thefinleys.com> - smallerize the initrd.gz with a custom busybox, 
                           hardlinks, busybox for init, etc.
- <brian@thefinleys.com> - Record imagename to /etc/systemimager/current_image
                           after an autoinstall (*.master) or an updateclient
			   (if syncing from the root "/"). 

- <gpratt@valinux.com> - Docbookization of the FAQ-HOWTO

- Cameron Meadors <cmeadors@valinux.com> and Roland Dreier <roland@valinux.com>
  - write a new tftp daemon to do that special PXE thang, so that we no longer 
    have to use the buggy tftp-hpa daemon.  There is also a new tftp-hpa 
    daemon out that may not be so buggy...

- Chris Black <cblack@mokey.com> - hack dhclient to allow for imageserver 
                                   specification via dhcp

- Ian McLeod <ian@valinux.com> - multicast install -- working on mftp 
                                 (multicast ftp) as a drop in alternative for 
				 rsync.
- Roland Dreier <roland@valinux.com> -- working on the multicast library that 
                                        Ian's utility will be based on.
- <brian@thefinleys.com> - consider inodes/block in getimage
- <brian@thefinleys.com> - getimage -- blink option
- <brian@thefinleys.com> - getimage -- eject option
- <brian@thefinleys.com> - makeautoinstalldiskette -- consider adding config 
                           file options?
- <brian@thefinleys.com> - updateclient -autoinstall -- consider adding config 
                           file options?
- <brian@thefinleys.com> - contemplate using wget to pull stuff?
- <brian@thefinleys.com> - contemplate using khttpd to show autoinstall client 
                           status
- <brian@thefinleys.com> - command to put mac addresses/host names into 
                           /etc/dhcpd.conf by using broadcast pings, the arp 
			   table, and /etc/hosts or dns.



Other Requests
------------
- commandline-ize the rest of the commands
- support for imageserver specification in DHCP client (hack dhcpcd)
- modify systemimager.exclude to deal with debian network info
- /etc/systemimager.conf file to hold things like domain name, nis domain, etc.
- support for dual boot systems (Linux/Windows with FAT/HPFS/NTFS)

Bug list
--------
- Bugs? ;)

Other stuff
-----------
- (part of the making of the tftp-hpa RPM) need to add proper tftp entry in /etc/inetd.conf 
   for tftp-hpa rpm.  If systemimager is installed with tftp-hpa, then systemimager's 
   afterburner will make the proper changes to /etc/inetd.conf.
- make the <Backspace> key work ;)
- create man pages
- support for Caldera Open Linux
  - IF_LIST in /etc/sysconfig/network
- support for SuSE
- support for Slackware
- section of howto that helps Kickstart users transition to SystemImager.
- redirect syslog messages from autoinstall clients to $imagserver

getimage
--------
- identify mke2fs parameters -b, -i, and -m on the master client and replicate this on autoinstall clients
- use something other than mtab for getting active ext2 filesystems?
- offer user the ability to change this, and store the changes in 
  /etc/systemimager.conf as IMAGESDIRECTORY="/var/spool/systemimager/images"
- add an --exclude option
- pass variables, such as $imagename to "addclients"
- create disk partition sections of $image.master using MB instead of cylinders
  in order to support disks of different sizes. (not feasable at this point.)
  (there may be additional things to do on the prepareclient side as well)
  (perhaps use a virtual disk presented to a "real" fdisk to allow user partitioning? --
   or maybe just calculate partition information with the script and ask the user to specify sizes)

addclients
----------
- accept command line input such as --image $imagename
- re-cycle through each question if answer is ""

systemimager.exclude
--------------------
- keep this in the image on the imageserver
- add support for a systemimager.include file
- have getimage question what should be excluded in future when updateimage 
  is run.  /tmp/* and /home/* should be recommended as a starting place.

updateclient
-----------
- have client pull systemimager.exclude and systemimager.include from
  imageserver before pulling image

makedhcpserver 
--------------
- autodiscover and calculate more information 
  (including if system has more than one network interface).
- automatically change line in /etc/rc.d/init.d/dhcpd for you

Miscellaneous and Possibilities
-------------------------------
- add more error checking (always) :)
- Dan of Argonne says there may be a better way of identifying the
  imageserver via DHCP.  This has been verified -- you can make a
  statement such as:
   option option-100 "10.0.0.8";
  in the /etc/dhcpd.conf file to make up your own option that specifies
  the address of the imageserver.  However, only the ISC's own dhclient
  seems to be able to take made up options, and it is not the dhcp client
  of choice (for several reasons).  Maybe the other clients, dhcpcd and
  pump, will find their way along soon...

  Reasons are:
  - dhcpcd is the defacto dhcp client used on most linux systems
  - dhclient compiles large

- curses wrapper around the whole thing?
- updateclient - log what was updated and or deleted?
- makedhcpstatic -- allow for -f "filename" option to specify dhcpd.leases file.

systemimager.conf
-----------------
- SYSTEMIMAGER_ROOT=$path
- SYSTEMIMAGER_FQHN=$boolean
- EXCLUDE=$path $path $path
